{
    // stuff to put at the beginning of the assembly file generated by lst2asm
    "preamble": [
        ".8086",
        "DOSSEG",
        ".MODEL SMALL"
    ],
    "coda": [ "END" ],
    "include": "lst/start.inc",
    "in_segments": [ "startCode1", "startCode2", "startData" ],
    "out_segments": [
        { "seg": "startCode1", "class": "CODE" },
        { "seg": "startCode2", "class": "CODE" },
        { "seg": "startData",  "class": "DATA" },
        { "seg": "startBss", "class": "BSS" },
        { "seg": "startStack",  "class": "STACK" }
    ],
    "code_segments": [ "startCode1", "startCode2" ],
    "data_segments": [ "startData", "startBss" ],
    // the sum of the size of all the items in the data segment, used to verify that the assembly file contains all the data
    "data_size": "0x7b10",
    // locations and contents of input lines that should be replaced in the assembly output
    "replace": [ 
        { "seg": "startCode1", "off": "0x0", "from": "startCode1 segment", "to": ".CODE" },
        { "seg": "startData", "off": "0x0", "from": "startData segment", "to": ".DATA" },
        { "seg": "startCode1", "off": "0x2ff", "to": "db 05h, 48h, 0" },
        { "seg": "startCode1", "off": "0x376a", "to": "db 3Dh, 10h, 0" }, 
        { "seg": "startStack", "off": "0x0", "from": "end start", "to": "end" }
    ],
    "insert": [
        // bss start
        { "seg": "startData", "off": "0x4585", "from": "db", "to": ".DATA?" }
    ],
    "remove": [
        // remove original data segment end
        { "seg": "startData", "off": "0x7afc", "from": "ends" },
        // libc_bufout, bufin, buferr
        { "seg": "startData", "off": "0x4a10" },
        { "seg": "startData", "off": "0x6880" },
        { "seg": "startData", "off": "0x78fa" }
    ],
    // blocks that should be eliminated from the input, usually because they have been already ported to C code
    "extract": [ 
        // a bunch of initial zeros at the beginning of the code segment caused by .DOSSEG
        { "seg": "startCode1", "begin": "0x0",    "end": "0x0",    "from": "byte_10000" },
        { "seg": "startCode1", "begin": "0x10",   "end": "0x482",  "from": "main",              "to": "endp" },
        { "seg": "startCode1", "begin": "0x4a0",  "end": "0x510",  "from": "initGraphics",      "to": "endp" },
        { "seg": "startCode1", "begin": "0x511",  "end": "0x543",  "from": "cleanup",           "to": "endp" },
        { "seg": "startCode1", "begin": "0x54a",  "end": "0x560",  "from": "clearKeybuf",       "to": "endp" },
        { "seg": "startCode1", "begin": "0x561",  "end": "0x570",  "from": "waitJoyKey",        "to": "endp" },
        { "seg": "startCode1", "begin": "0x571",  "end": "0x5d4",  "from": "joyOrKey",          "to": "endp" },
        { "seg": "startCode1", "begin": "0x5d5",  "end": "0x634",  "from": "waitMdaCgaStatus",  "to": "endp" },
        { "seg": "startCode1", "begin": "0x635",  "end": "0x673",  "from": "drawLine",          "to": "endp" },
        { "seg": "startCode1", "begin": "0x674",  "end": "0x6c6",  "from": "showPic640",        "to": "endp" },
        { "seg": "startCode1", "begin": "0x6c8",  "end": "0x90d",  "from": "missionSelect",     "to": "endp" },
        { "seg": "startCode1", "begin": "0x90e",  "end": "0xa9e",  "from": "missionMenuSelect", "to": "endp" },
        { "seg": "startCode1", "begin": "0xa9f",  "end": "0xcda",  "from": "animateArm",        "to": "endp" },
        { "seg": "startCode1", "begin": "0xcdb",  "end": "0xd39",  "from": "askRepeatMission",  "to": "endp" },
        { "seg": "startCode1", "begin": "0xd3a",  "end": "0xdc9",  "from": "checkDiskA",        "to": "endp" },
        { "seg": "startCode1", "begin": "0xdca",  "end": "0xe09",  "from": "missionDecode",     "to": "endp" },
        { "seg": "startCode1", "begin": "0xe0a",  "end": "0x10aa", "from": "printMission",      "to": "endp" },
        { "seg": "startCode1", "begin": "0x10ab", "end": "0x1228", "from": "processStoreInput", "to": "endp" },
        { "seg": "startCode1", "begin": "0x1229", "end": "0x1249", "from": "clearBriefing",     "to": "endp" },
        { "seg": "startCode1", "begin": "0x124a", "end": "0x128f", "from": "showSprite",        "to": "endp" },
        { "seg": "startCode1", "begin": "0x12b8", "end": "0x12de", "from": "actualDrawString",  "to": "endp" },
        { "seg": "startCode1", "begin": "0x1577", "end": "0x15ad", "from": "drawString",        "to": "endp" },
        { "seg": "startCode1", "begin": "0x15ae", "end": "0x15f0", "from": "stringWidth",       "to": "endp" },
        { "seg": "startCode1", "begin": "0x15f1", "end": "0x172b", "from": "my_ltoa",           "to": "endp" },
        { "seg": "startCode1", "begin": "0x172c", "end": "0x1805", "from": "my_itoa",           "to": "endp" },
        { "seg": "startCode1", "begin": "0x1824", "end": "0x1834", "from": "seedRandom",        "to": "endp" },
        { "seg": "startCode1", "begin": "0x1835", "end": "0x1858", "from": "randMul",           "to": "endp" },
        { "seg": "startCode1", "begin": "0x1b72", "end": "0x1c06", "from": "pilotSelect",       "to": "endp" },
        { "seg": "startCode1", "begin": "0x1c08", "end": "0x1d30", "from": "updateHallfame",    "to": "endp" },
        { "seg": "startCode1", "begin": "0x1d32", "end": "0x1d7f", "from": "choosePilotPrompt", "to": "endp" },
        { "seg": "startCode1", "begin": "0x1d80", "end": "0x1f42", "from": "sub_11D80",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x1f44", "end": "0x2107", "from": "processPilotInput", "to": "endp" },
        { "seg": "startCode1", "begin": "0x210a", "end": "0x2181", "from": "blinkPilot",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x2182", "end": "0x2231", "from": "gameDataToPilot",   "to": "endp" },
        { "seg": "startCode1", "begin": "0x2232", "end": "0x22ea", "from": "pilotToGameData",   "to": "endp" },
        { "seg": "startCode1", "begin": "0x22ec", "end": "0x24e3", "from": "pilotNameInput",    "to": "endp" },
        { "seg": "startCode1", "begin": "0x24e4", "end": "0x2541", "from": "loadHallfame",      "to": "endp" },
        { "seg": "startCode1", "begin": "0x2542", "end": "0x259f", "from": "saveHallfame",      "to": "endp" },
        { "seg": "startCode1", "begin": "0x25a0", "end": "0x25e2", "from": "getJoyKey",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x25e4", "end": "0x2650", "from": "sub_125E4",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x30a2", "end": "0x30b2", "from": "openFileWrapper",   "to": "endp" },
        { "seg": "startCode1", "begin": "0x30c6", "end": "0x30d3", "from": "closeFileWrapper",  "to": "endp" },
        { "seg": "startCode1", "begin": "0x3312", "end": "0x333d", "from": "openShowPic",       "to": "endp" },
        { "seg": "startCode1", "begin": "0x3368", "end": "0x3390", "from": "loadPic",           "to": "endp" },
        { "seg": "startCode1", "begin": "0x3758", "end": "0x378b", "from": "allocBuffer",       "to": "endp" },
        { "seg": "startCode1", "begin": "0x37f8", "end": "0x39e8", "from": "sub_137F8",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x39e9", "end": "0x3a60", "from": "sub_139E9",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x3a61", "end": "0x3b88", "from": "sub_13A61",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x3b8a", "end": "0x3b9d", "from": "parseGridTerrain",  "to": "endp" },
        { "seg": "startCode1", "begin": "0x3b9e", "end": "0x3d4a", "from": "parseTerrain",      "to": "endp" },
        { "seg": "startCode1", "begin": "0x3d4c", "end": "0x3e8b", "from": "parseGrid",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x3e8c", "end": "0x3ea7", "from": "subReadKey",        "to": "endp" },
        { "seg": "startCode1", "begin": "0x3ea8", "end": "0x3ed1", "from": "sub_13EA8",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x4042", "end": "0x4092", "from": "missionGenerate",   "to": "endp" },
        { "seg": "startCode1", "begin": "0x4093", "end": "0x4bb3", "from": "runGenerator",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x4bb4", "end": "0x4c93", "from": "sub_14BB4",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x4c94", "end": "0x4cc4", "from": "sub_14C94",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x4cc5", "end": "0x4d95", "from": "sub_14CC5",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x4d96", "end": "0x4e02", "from": "sub_14D96",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x4e03", "end": "0x4f75", "from": "parseWorld",        "to": "endp" },
        { "seg": "startCode1", "begin": "0x4f76", "end": "0x50e7", "from": "writeWorld",        "to": "endp" },
        { "seg": "startCode1", "begin": "0x50eb", "end": "0x5267", "from": "sub_150EB",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x5268", "end": "0x5284", "from": "setMoveDstComm7A",  "to": "endp" },
        { "seg": "startCode1", "begin": "0x5268", "end": "0x52bb", "from": "memAppend",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x52f1", "end": "0x52f3", "from": "doNothing",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x52f4", "end": "0x531b", "from": "sub_152F4",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x531c", "end": "0x5471", "from": "sub_1531C",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x5472", "end": "0x54a0", "from": "sub_15472",         "to": "endp" },
        { "seg": "startCode1", "begin": "0x54a1", "end": "0x5541", "from": "placeString",         "to": "endp" },
        // remove initialzed crt0 stuff
        { "seg": "startData", "begin": "0x0", "end": "0x41", "from": "crt0_start", "to": "crt0_end" },
        // remove iniialized libc data
        { "seg": "startData", "begin": "0x281e", "end": "0x2b04" },
        // remove crt0 bss stuff
        { "seg": "startData", "begin": "0x4586", "end": "0x4590" }
    ],
    // list of procs that should be copied into the output assembly from the input
    "preserves" : [
        "timerIrqHandler", "sub_1194D",
        "setTimerIrqHandler", "restoreTimerIrqHandler", "sub_119D4", "sub_11A69", "getTimeOfDay", "increaseTimerCounters", "doFcbSearch", "picBlit", "mystrcpy", "mystrlen", "mystrcat", "nearmemset", "intDispatch", "dos_printstring", "loadOverlay", "setupOverlaySlots", "clearRect", "sub_12C75", "sub_12DEA", "sub_12DF6", "sub_12F6A", "installCBreakHandler", "restoreCbreakHandler", "getInterruptHandler", "cbreakHandler", "openFile", "fileClose", "read512FromFileIntoBuf", "showPicFile", "decodePic", "decodePicRow", "picReadDataAndMakeDict", "picMakeDict", "doPicDecode", "dictionaryLookup", "dos_alloc", "sub_16A7F", "readJoyPort", "sub_16ABF", "copyJoystickData",
        "sub_132A5"
    ],
    // list of symbols to declare as external in the output assembly (because they were already ported to C code)
    "externs": [ "main", "waitMdaCgaStatus", "openFileWrapper", "closeFileWrapper", "cleanup", "pilotToGameData", "clearBriefing", "seedRandom", "gameDataToPilot", "saveHallfame", "processStoreInput", 
    "pilotNameInput" ],
    // list of symbols to declare as public in the output assembly, so that they are visible from C code
    "publics": [ 
        // stuff for the C code
       "byte_17412", "byte_17422", "word_173DE", "asc_174AC", "byte_1741A", "asc_174AF", "ranks", "pilotNameInputColors", "aMenterYourName", 
        "cbreakHit", "word_17282", "a_3dg", "aOpenErrorOn__0", "aRb_0", "word_18188", "gridBuf1", 
        "gridBuf2", "gridBuf3", "gridBuf4", "gridBuf5", "aBadGridFileFor", "gridSignature", "aInsufficientSy",
       "byte_1B0D3", "aCc00", "aEs00", "aHz00", "aJz00", "aTd00", "bufCoordStr", "aWx00", "aXv00", "byte_1B0D1", "byte_1B0D2", "word_17290", "word_17292", "word_17284", "word_17286", "word_17288", "word_1728A", "word_1728C", "byte_1729C", "word_1728E", "pilotSelectFlag", "moveDst",
        "word_1786F", "word_17873", "word_17871", "word_17875", "word_18186", "aOpenErrorOn_3d", "terrainSignature", "a_3dt", "aTooMuchTileDat", "aRb", "terrainBuf1", "terrainBuf2", "terrainBuf3", "terrainBuf4", "terrainBuf5", "terrainPtrUnk", "aTooManyTiles_", "aBadTileFileFor", "terrainIdxBuf", "aHiscore_pic", "aArmpiece_pic", "aWb", "aHallfame_0", "planes", "blinkColors", "blinkColorIdx", "word_18026", "word_1E24A", "word_17FFE", "word_18010",
        "hercFlag", "timerCounter", "commData", "aF15_spr", "noJoy80", "aTitle640_pic", "menuSprites", "bufPtr", "needSplash", "aAdv_pic", "aLabs_pic", "aF15_spr_0",
       "byte_1D5E2", "byte_1D5E3", "word_1D5D4", "byte_1D5E4", "byte_1D5E5", "dword_1D5D8", "dword_1D5DC", "word_1D5E0",
        "iacaSuFlag0Ptr", "exitCode", "joyDone", "gameData", "aEgraphic_exe", "aTitle16_pic", "page1Ptr", "intRegs", "selectedPilotIdx", "hallfameBuf", "screenBuf", "aWall_pic", "page1NumPtr", "page2NumPtr", "aAt", "byte_1B100", "byte_1B0FF", "word_1D5D6",
        "missDiffLevels", "missDiffDesc", "missTheaNames", "missTheaDesc", "missScenarioNames", "missScenarioDesc", "missTypeNames", "missTypeDesc", 
        "missHistorical1Names", "missHistorical1Desc", "missHistorical2Names", "missHistorical2Desc",
        "missionStr", "aRb_1", "plh3d3Ptr", "enableHighlight", "word_19656", "word_182C8", "word_19294", "aPowCamp", "word_18994", "dword_1D5D0", "word_182BC",
        "word_192EC", "stru_18FC0", "word_182BE", "byte_192FC", "target2", "word_1D00A", "word_182C0", "targets", "word_182C2", "dword_1D650", "word_192A4", "word_182C4", "stru_1892E", "word_192F4", "word_182C6", "word_189B6",   "word_19324", "off_19304", "off_19314", "word_1B960",
        "aSeeTechnicalSu", "aMissionType", "fileHandle", "scenarioCodePtr", "timerCounter3", "aTheater", "aDifficulty", "scenarioFoundArr", "aNoScenarioFile", "missionPick", "drawColor", "aRepeatLastMiss", "aDecodingMissio", "word_171B2",
        "aTemp_wld", "regnPlhPtr", "difficultySaved", "theaterSaved", "flag4Saved", "plhFiles", "worldFiles", "todayMissStrBuf", "aTakeoffFrom",
        "fontIndex", "aTodaySMission", "aOnc_0", "aOnc_1", "aPrimaryTarget", "aOnc_2", "aSecondaryTarge", "aRb_2", "aPleaseReinsert", "aF15_spr_1", "aPressSelectorW", "word_182BA", "aWb_0", "word_1B148", "word_1DD38", "readItemSize", "timerHandlerInstalled", "aRb_3", "aHallfame",
        "aPressAKeyToCon", "aOriginalDiskIn", "pageNumPtr", "aUseSelectorToC", "word_173D6", "word_19658", "word_1714A", "word_1715A", "word_1716A", "word_1717A", "word_1718A", "word_1965A", "word_1719A", "word_1965C", "word_1965E", 
        "aRb_4", "wldReadBuf5Size", "wldReadBuf1", "wldReadBuf2", "wldReadBuf3", "wldReadBuf4", "wldReadBuf6", "wldReadBuf7", "wldReadBuf8", "wldReadBuf9", "wldReadBuf10", "wldReadBuf11", "wldOffsets", 
        "mystrcat",
        "showPicFile",
        "copyJoystickData",
        "restoreTimerIrqHandler",
        "intDispatch",
        "mystrcpy",
        "installCBreakHandler",
        "dos_alloc",
        "loadOverlay",
        "mystrlen",
        "dos_printstring",
        "clearRect",
        "restoreCbreakHandler",
        "setTimerIrqHandler",
        "getTimeOfDay",
        "decodePic",
        "nearmemset",
        "openFile",
        "picBlit",
        "setupOverlaySlots",
        "sub_16A7F",
        "doFcbSearch",
        "sub_12DEA",
        "fileClose",
        "gfx_jump_0_alloc",
        "gfx_jump_05_drawString",
        "gfx_jump_0d_setCurBuf",
        "gfx_jump_0e_setCurBuf",
        "gfx_jump_0f_getBufPtr",
        "gfx_jump_10_getCurBuf",
        "gfx_jump_11_blitSprite",
        "gfx_jump_17_bufSize",
        "gfx_jump_1f",
        "gfx_jump_20_setVal",
        "gfx_jump_21",
        "gfx_jump_22",
        "gfx_jump_23",
        "gfx_jump_25",
        "gfx_jump_28",
        "gfx_jump_29_switchColor",
        "gfx_jump_2a",
        "gfx_jump_2f_charWidth",
        "gfx_jump_30_blitToCurrent",
        "gfx_jump_33_fillRow",
        "gfx_jump_34_fillRow",
        "gfx_jump_35",
        "gfx_jump_36_null",
        "gfx_jump_37_null",
        "gfx_jump_38_getPageBuf",
        "gfx_jump_3a_getRowOffset",
        "gfx_jump_3b_clearBuf",
        "gfx_jump_3c_setMode13",
        "gfx_jump_3d_null",
        "gfx_jump_3f_modecode",
        "gfx_jump_44_setDac",
        "gfx_jump_45_retrace",
        "gfx_jump_46_retrace2",
        "gfx_jump_4b_storeBufPtr",
        "gfx_jump_4e_getVal",
        "gfx_jump_50_null",
        "gfx_jump_51_null",
        "gfx_jump_52",
        "misc_jump_5a_keybuf",
        "misc_jump_5b_getkey",
        "misc_jump_5d_readJoy",
        "misc_jump_5e_clearKeyFlags",
        "audio_jump_64",
        "audio_jump_65",
        "audio_jump_67",
        "audio_jump_6b",
        "audio_jump_6c",
        // stuff for the assembly code
        "aFileClosingError",
        "aWriteError",
        "diskTransferArea",
        "byte_172C6",
        "dictionaryIndex",
        "byte_172B7",
        "picDecodeDictionary",
        "word_17BF1",
        "picRowLength",
        "rowOffset",
        "picWorkData",
        "word_17BF3",
        "picDecodedRowBuf",
        "byte_17BF0",
        "aReadError",
        "word_17BF5",
        "word_17BF7",
        "word_17BF9",
        "picWorkDataPtr",
        "picProcessFlag0_1",
        "word_1786A",
        "aDosLied",
        "picTmp9BitCount",
        "picByteUnsignedFlag",
        "word_1782E",
        "word_1786C",
        "word_1783E",
        "word_1784E",
        "word_1737E",
        "fileReadPos",
        "ovlParBlock",
        "row",
        "readBufEndPtr",
        "picRemainingBitCount",
        "timerCounter2",
        "tmpFileHandle",
        "timerCounter4",
        "picDecodeIncrement",
        "aAlloc1M",
        "searchFCB",
        "ovlSeg1",
        "aNoFileBuffersAvailable",
        "picNumberDictSlots",
        "aOpenError",
        "ovlSeg2",
        "ovlParCnt",
        "byte_17A2F",
        "errorCodeStr",
        "tmpPageIndex",
        "word_17836",
        "word_17846",
        "word_172AA",
        "ovlInsaneFlag",
        "word_17856",
        "word_172BA",
        "word_17866",
        "screenBufSize",
        "word_172AC",
        "word_17858",
        "word_17868",
        "aOvlFail",
        "word_172AE",
        "aOvlShrink",
        "byte_17877",
        "word_17BEB",
        "origCBreakOfs",
        "word_17BFB",
        "picSlotCounter",
        "word_172B1",
        "origCBreakSeg",
        "word_17BED",
        "picFileReadBufEnd",
        "readFromFilePtr",
        "word_172B3",
        "word_172A4",
        "byte_172B0",
        "fileReadBuf",
        "word_172B5",
        "byte_172A2",
        "word_172A6",
        "picByte",
        "aFileNotFound",
        "aEnoughMem",
        "byte_19ADB",
        "picFileWord",
        "word_172A8",
        "word_172B8",
        "picLookupResult",
        "aFileNFound",
        "aOvlOvrrun"
    ],
    // stuff to write at the beginning of the C header file generated by lst2ch
    "header_preamble": [
        "#ifndef F15_SE2_START",
        "#define F15_SE2_START",
        "#include \"inttype.h\"",
        "#include \"struct.h\"",
        "#include \"comm.h\"",
        "",
        "#include <stdio.h>",
        "",
        "#if !defined(MSDOS) && !defined(__MSDOS__)",
        "#define far",
        "#endif",
        "",
        "#define __int32 long",
        "#define __int8 char",
        "#define __cdecl",
        "#define __far far"
    ],
    // likewise, stuff to write at the end
    "header_coda": "#endif // F15_SE2_START"
}
